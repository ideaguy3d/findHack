angular.module("edhubJobsApp",["firebase","angular-md5","ngRoute","ngMaterial","ngMdIcons","smoothScroll"]).config(["$routeProvider","$locationProvider",function(a){a.when("/",{templateUrl:"states/landing/view.landing.html",controller:"LandingCtrl",controllerAs:"landingCtrl"}).when("/signup",{templateUrl:"states/auth/view.signup.html",controller:"AuthCtrl",controllerAs:"signup",resolve:{unauthApplyRslv:["$route",function(a){return"sta"===a.current.params.status?"Hi ^_^/ Please signup/login before applying":null}]}}).when("/signup/:status",{templateUrl:"states/auth/view.signup.html",controller:"AuthCtrl",controllerAs:"signup",resolve:{unauthApplyRslv:["$route",function(a){return"sta"===a.current.params.status?"Hi ^_^/ Please signup/login before applying":null}]}}).when("/login",{templateUrl:"states/auth/view.login.html",controller:"AuthCtrl",controllerAs:"login",resolve:{unauthApplyRslv:["$route",function(a){return"sta"===a.current.params.status?"Hi ^_^/ Please signup/login before applying":null}]}}).when("/user-auth-logout/logout-page",{templateUrl:"states/auth/view.logout.html"}).when("/profile/:user",{templateUrl:"states/auth/view.profile.html"}).when("/post",{templateUrl:"states/post/view.post.html",controller:"PostCtrl",controllerAs:"postJobCtrl"}).when("/apply",{templateUrl:"states/apply/view.apply.html",controller:"ApplyToJobCtrl",controllerAs:"applyToJobCtrl"}).when("/apply/:orgId/:orgName",{templateUrl:"states/apply/view.apply.org.html",controller:"ApplyToOrgCtrl",controllerAs:"applyToOrgCtrl",resolve:{orgJobAppsRslv:["$route","edhubJobPostService",function(a,b){return b.forOrg(a.current.params.orgId).$loaded()}]}}).when("/apply-thanks",{templateUrl:"states/apply/view.thanks.html"}).when("/apply-job/:orgName/:jobId",{templateUrl:"states/apply/view.apply.job-org.html",controller:"ApplyToJobCtrl",controllerAs:"applyToJobCtrl"}).when("/applications",{templateUrl:"states/org-apps/view.org-apps.html",controller:"OrgApplicantsCtrl",controllerAs:"orgApps"}).when("/lab916",{templateUrl:"/states/lab916/view.landing.html"}).when("/uit1",{templateUrl:"ui-prac/uit1.html",controller:"uiPracCtrl",controllerAs:"ui"}).otherwise("/");const b={apiKey:"AIzaSyDEyWzMw0NPhKUnjWTNsYeqAWazk5cR_LI",authDomain:"edhub-jobs.firebaseapp.com",databaseURL:"https://edhub-jobs.firebaseio.com",projectId:"edhub-jobs",storageBucket:"edhub-jobs.appspot.com",messagingSenderId:"743478741402"};firebase.initializeApp(b)}]),function(){"use strict";function a(a,b,c,d,e){function f(){return b.rootEdhubAuthUser}b.rootEdhubAuthUser="";const g=firebase.database().ref("organizations"),h=a();var i={};return h.$onAuthStateChanged(function(a){if(a){var d=g.child(a.uid);b.rootEdhubAuthUser=c(d),console.log("edhub - The Auth User ="),console.log(b.rootEdhubAuthUser),b.$broadcast("edhub-event-auth-user",{haveAuthUser:!0})}else b.rootEdhubAuthUser="",b.$broadcast("edhub-event-auth-user",{haveAuthUser:!1}),console.log("There is no longer an Auth User"),console.log(b.rootEdhubAuthUser)}),i={login:function(a,c){h.$signInWithEmailAndPassword(a.email,a.password).then(function(a){c.path?d.path("/"+c.path):d.path("/")}).catch(function(a){console.error("edhub - There was an error ="),console.log(a.message),b.rootAuthError=a.message})},logout:function(){return h.$signOut()},requireAuth:function(){return h.requireSignIn()},signup:function(a,c){c=c?c:{},console.log("edhub - signup user = ",a),h.$createUserWithEmailAndPassword(a.email,a.password).then(function(d){g.child(d.uid).set({date:firebase.database.ServerValue.TIMESTAMP,regUser:d.uid,orgName:a.orgName?a.orgName:"blank",email:a.email,repName:a.name?a.name:"blank"}),b.rootMessage="Thanks for registering "+a.name,c.listOrg&&(console.log("broadcasting 'edhub-list-unauth-org-signup'"),b.$broadcast("edhub-list-unauth-org-signup",{orgId:d.uid})),i.login(a,c)}).catch(function(a){return console.error("edhub - There was an error ="),console.log(a.message),b.rootAuthError=a.message,null})},getAuthUser:f}}angular.module("edhubJobsApp").factory("edhubAuthService",["$firebaseAuth","$rootScope","$firebaseObject","$location","$q",a])}(),function(){"use strict";function a(a,b){function c(b){const c=f.orderByChild("timeStamp").limitToLast(b);return a(c)}function d(b,c){return a(f.child(c)).$add(b).then(function(a){return a})}function e(b){return a(g.child(b))}const f=firebase.database().ref("jobPostings"),g=firebase.database().ref("orgApplicants");return{jobPostings:a(f),jobPostingsLimitTo:c,forOrg:e,listOrganization:d}}angular.module("edhubJobsApp").factory("edhubJobPostService",["$firebaseArray","edhubAuthService",a])}(),function(){"use strict";function a(a,b){function c(a,c){return b(g.child(c)).$add(a).then(function(a){return a})}function d(a,c){return a.timestamp=firebase.database.ServerValue.TIMESTAMP,a.orgId=c,b(h).$add(a).then(function(a){return a})}function e(a,c){var d=h.orderByChild(c).limitToLast(a);return b(d)}function f(a){return b(i.child(a))}const g=firebase.database().ref("orgListings"),h=firebase.database().ref("orgFeed"),i=firebase.database().ref("orgApplicants");return{listOrg:c,postToOrgFeed:d,readFromOrgFeed:e,getOrgApplicants:f}}angular.module("edhubJobsApp").factory("eOrgListFact",["$rootScope","$firebaseArray",a])}(),function(){"use strict";function a(a,b,c,d,e,f,g){function h(a){return console.log("edhub - coreEdhubToggleSideNav() invoked"),function(){c(a).toggle()}}function i(){var a=f.getAuthUser();return""===a?o.loginSignup:o.logout}function j(){console.log("in _authAction() !! ^_^"),g.path("/signup")}function k(){f.logout(),g.path("/user-auth-logout/logout-page")}function l(){console.log("in _settings() [=")}function m(){console.log("in _editProfile() ! :)")}function n(){g.path("/applications")}b.ccCurrentUser="",b.coreEdhubHorizontalState=!1,b.ccAuthBoxHidden=!1,b.ccAuthBoxIsOpen=!1,b.ccAuthBoxHover=!0,b.coreEdhubToggleSideNav=h("core-sidenav");const o={loginSignup:"Login/Signup",logout:"Logout",settings:"Settings",editProfile:"Edit Profile",applications:"Applications"};b.ccSetCurrentUser=function(a){b.ccCurrentUser=a},b.$watch("ccAuthBoxIsOpen",function(a){a?e(function(){b.tooltipVisible=b.ccAuthBoxIsOpen},400):b.tooltipVisible=b.ccAuthBoxIsOpen}),b.ccItems=[{name:i(),icon:"login",direction:"bottom"},{name:o.editProfile,icon:"edit",direction:"top"},{name:o.applications,icon:"view_list",direction:"bottom"}],b.ccCustomIcons=[{name:"Login",icon:"img/icons/twitter.svg",direction:"bottom"},{name:"Edit Profile",icon:"img/icons/facebook.svg",direction:"top"},{name:"Settings",icon:"img/icons/hangout.svg",direction:"bottom"}],b.ccAuthBoxAction=function(a,b){switch(b.name){case o.loginSignup:j();break;case o.logout:k();break;case o.settings:l();break;case o.editProfile:m();break;case o.applications:n();break;default:console.error("Something went wront w/the AuthBox actions")}},b.ccOpenDialog=function(a,b){d.show({clickOutsideToClose:!0,controller:function(a){this.item=b,this.close=function(){a.cancel()},this.submit=function(){a.hide()}},controllerAs:"modalAuth",templateUrl:"states/auth/modal.auth.html",targetEvent:a})},a.$on("edhub-event-auth-user",function(a,c){b.ccItems[0].name=i()})}angular.module("edhubJobsApp").controller("CoreCtrl",["$rootScope","$scope","$mdSidenav","$mdDialog","$timeout","edhubAuthService","$location",a])}(),function(){"use strict";function a(a,b,c,d,e){function f(){d.readFromOrgFeed(5,"timestamp").$loaded().then(function(a){g.orgFeed=a}).catch(function(a){console.error("edhub - Error: ",a)})}const g=this;g.jobPostBg="images/chalkboard3dArt1.png",g.showVid=!0,g.apply2job=function(a,c){b.url("/apply/"+c+"/"+a)},g.apply2org=function(a){e.rootEdhubAuthUser?b.url("/apply/"+a.orgId+"/"+a.orgName):b.url("/signup/sta")},g.scroll2recentJobs=function(){var a=document.getElementById("edhub-recent-jobs-landing-title");c(a)},f()}angular.module("edhubJobsApp").controller("LandingCtrl",["edhubJobPostService","$location","smoothScroll","eOrgListFact","$rootScope",a])}(),function(){"use strict";function a(a,b,c,d){const e=this;e.email="",e.pw="",e.error="",e.name="",e.orgName="",e.showProgress=!1,e.edhubStatusMessage=d,e.authSignup=function(){const a={email:e.email,password:e.pw,orgName:""!==e.orgName?e.orgName:"no orgName input field yet :/",name:""!==e.name?e.name:"no name given"};b.signup(a),e.showProgress=!0},e.go2login=function(){c.path("/login")},e.go2signup=function(){c.path("/signup")},e.userLogin=function(){e.showProgress=!0;const a={email:e.email,password:e.pw,orgName:""!==e.orgName?e.orgName:"profile",name:""!==e.name?e.name:"no name given"};b.login(a,{path:"user/"+a.orgName})}}angular.module("edhubJobsApp").controller("AuthCtrl",["$scope","edhubAuthService","$location","unauthApplyRslv",a])}(),function(){"use strict";function a(a,b,c,d,e){function f(){}function g(){d.signup(h.organization,{listOrg:!0,path:""}),h.edhubAuthUser=d.getAuthUser()}const h=this;h.progressMessage="Your Progress",h.formScope={},h.edhubAuthUser=!!d.getAuthUser(),h.edhubAuthUser=d.getAuthUser(),h.organization={orgName:"",zipCode:"",email:"",aboutTheOrganization:"",name:"",password:""},a.$on("edhub-event-auth-user",function(a,b){h.edhubAuthUser=b.haveAuthUser,h.edhubAuthUserData=d.getAuthUser()}),a.$on("edhub-list-unauth-org-signup",function(a,b){var c="";e.listOrg(h.organization,b.orgId).then(function(a){c=a}),e.postToOrgFeed(h.organization,b.orgId)}),h.setFormScope=function(a){console.log("jha - form scope has been set, scope ="),console.log(a),h.formScope=a},h.listOrg=function(){h.edhubAuthUser?f():g()}}angular.module("edhubJobsApp").controller("PostCtrl",["$rootScope","edhubJobPostService","$location","edhubAuthService","eOrgListFact",a])}(),function(){"use strict";angular.module("edhubJobsApp").controller("Lab916Ctrl",[function(){const a=this;a.message="hello from the Lab916 controller ^_^/"}])}(),function(){"use strict";function a(a){const b=this;b.rParams=a}const b=angular.module("edhubJobsApp");b.controller("ApplyToJobCtrl",["$routeParams",a])}(),function(){"use strict";function a(a,b,c){const d=this;d.rParams=b,d.applyToOrgDataModel={applicantName:"Julius Maximus Romulus",applicantEmail:"julius@julius3d.com",applicantLinkedin:"https://linkedin.com/in/juliusalvarado",applicantCover:"Hi ^_^/ \n I'm Julius Alvarado(:\n\n I'm a Web Developer / Software Engineer / Graphic & UIUX Designer\nand an overall Hard Working Focused and Motivated Optimistic Team Player.",orgApplyTo:b.orgName,orgId:b.orgId},d.applyToOrg=function(){d.applyToOrgDataModel.timestamp=firebase.database.ServerValue.TIMESTAMP,a.$add(d.applyToOrgDataModel).then(function(a){console.log("edhub - The response from firebase: ",a),c.url("/apply-thanks")}).catch(function(a){console.log("There was an error submitting applicant data to organization:"),console.log(a)})}}const b=angular.module("edhubJobsApp");b.controller("ApplyToOrgCtrl",["orgJobAppsRslv","$routeParams","$location",a])}(),function(){"use strict";function a(a,b,c){function d(){var a=b.getAuthUser();e.userEmail=a.email,console.log("in 'edhub-event-auth-user' event, The authUser = ",a),a?c.getOrgApplicants(a.$id).$loaded(function(a){e.applicants=a}):(console.log("edhub - There was no authUser :("),e.applicants=null)}const e=this;a.$on("edhub-event-auth-user",function(a,d){var f=b.getAuthUser();e.userEmail=f.email,console.log("in 'edhub-event-auth-user' event, The authUser = ",f),f?c.getOrgApplicants(f.$id).$loaded(function(a){e.applicants=a}):(console.log("edhub - There was no authUser :("),e.applicants=null)}),d()}const b=angular.module("edhubJobsApp");b.controller("OrgApplicantsCtrl",["$rootScope","edhubAuthService","eOrgListFact",a])}(),function(){"use strict";angular.module("edhubJobsApp").controller("uiPracCtrl",[function(){const a=this;a.toggle=!1,a.togglePracNav=function(){a.toggle=!a.toggle,console.log("jha - sidediv should have toggled...")}}])}();